<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Buy Now | Stubborn Thread</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&display=swap" rel="stylesheet">

<style>
body{margin:0;font-family:Montserrat,sans-serif;background:#f6f6f6;}
.buy-header{background:#000;padding:18px 6%;display:flex;justify-content:space-between;align-items:center;}
.buy-logo{font-size:26px;font-weight:900;color:#fff;}
.buy-nav a{color:#fff;margin-left:25px;text-decoration:none;font-size:14px;}

.checkout{max-width:1100px;margin:40px auto;background:#fff;padding:30px;border-radius:20px;
box-shadow:0 20px 40px rgba(0,0,0,.15);display:grid;grid-template-columns:1fr 1.2fr;gap:40px;}
.big-img{width:100%;height:520px;object-fit:cover;border-radius:20px;}
.product-desc h2{font-size:28px;margin:10px 0;}
.product-desc p{font-size:15px;color:#555;line-height:1.7;white-space:pre-line;}

.qty-box{display:flex;align-items:center;gap:12px;margin:15px 0;}
.qty-box button{width:34px;height:34px;background:#000;color:#fff;border:none;border-radius:50%;font-size:20px;}
.qty-box span{font-size:18px;font-weight:800;}

.size-box{margin:15px 0;}
.size-box span{font-size:13px;font-weight:700;display:block;margin-bottom:6px;}
.sizes{display:flex;flex-wrap:wrap;gap:8px;}
.sizes button{
border:1px solid #333;background:#000;color:#fff;padding:7px 12px;
border-radius:8px;font-size:12px;cursor:pointer;
}
.sizes button.active{background:#fff;color:#000;font-weight:800;}
.kids-sizes{display:none;}

input,select,textarea{width:100%;padding:12px;border-radius:10px;border:1px solid #ddd;margin-bottom:12px;}
.coupon{display:flex;gap:10px;}
.coupon input{flex:1;}
.coupon button{background:#000;color:#fff;border:none;padding:12px 18px;border-radius:10px;}

.total{font-size:20px;font-weight:900;text-align:right;margin:15px 0;}
button.main{width:100%;padding:15px;background:#000;color:#fff;border:none;border-radius:30px;font-weight:900;cursor:pointer;}

@media(max-width:900px){.checkout{grid-template-columns:1fr;}}
</style>
</head>

<body>

<header class="buy-header">
  <div class="buy-logo">STUBBORN THREAD</div>
</header>

<div class="checkout">

<div>
  <img id="pimg" class="big-img">
  <div class="product-desc">
    <h2 id="pname"></h2>
    <p id="pdesc"></p>
  </div>
</div>

<div>

<div class="qty-box">
  <button type="button" onclick="qtyMinus()">−</button>
  <span id="qty">1</span>
  <button type="button" onclick="qtyPlus()">+</button>
</div>

<!-- SIZE -->
<div class="size-box">
  <span>Select Size</span>

  <div class="sizes adult-sizes">
    <button>S</button><button>M</button><button>L</button><button>XL</button><button>XXL</button>
  </div>

  <div class="sizes kids-sizes">
    <button>18 (1–2Y)</button><button>20 (2–3Y)</button><button>22 (3–4Y)</button>
    <button>24 (4–5Y)</button><button>26 (5–6Y)</button><button>28 (6–7Y)</button>
    <button>30 (7–8Y)</button><button>32 (8–9Y)</button><button>34 (9–10Y)</button>
    <button>36 (10–11Y)</button><button>38 (11–12Y)</button>
  </div>
</div>

<div class="total">Total: ₹<span id="total"></span></div>

<form action="https://formsubmit.co/printing@stubbornthread.in" method="POST">
<input type="hidden" name="Product" id="productField">
<input type="hidden" name="Price" id="priceField">
<input type="hidden" name="Size" id="sizeField">

<input name="Name" placeholder="Full Name" required>
<input name="Phone" placeholder="Phone" required>

<button class="main">Place Order</button>
</form>

</div>
</div>

<script>
const params=new URLSearchParams(window.location.search);
const name=params.get("name");
const price=Number(params.get("price"));
const img=params.get("img");
const type=params.get("type"); // kids or adult

document.getElementById("pname").innerText=name;
document.getElementById("pimg").src=img;

let qty=1, selectedSize="S";

if(type=="kids"){
  document.querySelector(".adult-sizes").style.display="none";
  document.querySelector(".kids-sizes").style.display="flex";
  selectedSize="18 (1–2Y)";
}else{
  document.querySelector(".adult-sizes").style.display="flex";
}

document.querySelectorAll(".sizes button").forEach(btn=>{
  btn.onclick=()=>{
    document.querySelectorAll(".sizes button").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    selectedSize=btn.innerText;
    update();
  }
});

const orderId="ST"+Math.floor(100000+Math.random()*900000);

function update(){
  document.getElementById("qty").innerText=qty;
  document.getElementById("total").innerText=price*qty;
  document.getElementById("productField").value=name+" | Size: "+selectedSize;
  document.getElementById("priceField").value=price*qty;
  document.getElementById("sizeField").value=selectedSize;
}
update();

function qtyPlus(){qty++;update();}
function qtyMinus(){if(qty>1){qty--;update();}}
</script>

</body>
</html>
